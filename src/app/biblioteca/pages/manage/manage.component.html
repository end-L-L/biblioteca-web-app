<!-- Content -->
<div class="wrapper">
	<div class="section-left">

		<div class="title-container">
			<span class="title">Agregar un Libro</span>
		</div>

		<div class="content-container">

      <mat-form-field class="mat-input" appearance="outline">
        <mat-label>ISBN</mat-label>
        <input matInput [(ngModel)]="book.isbn" placeholder="ISBN" required/>
      </mat-form-field>
      
      <mat-form-field class="mat-input" appearance="outline">
        <mat-label>Título</mat-label>
        <input matInput [(ngModel)]="book.titulo" placeholder="Las Mil y una Noche">
      </mat-form-field>

      <mat-form-field class="mat-input" appearance="outline">
        <mat-label>Autor</mat-label>
        <input matInput [(ngModel)]="book.autor" placeholder="Recopilación">
      </mat-form-field>

      <mat-form-field>
        <mat-label>Editorial</mat-label>
        <mat-select [(ngModel)]="book.editorial">
          @for(e of editoriales; track e) {
            <mat-option [value]="e.id">{{e.nombre}}</mat-option>
          }
        </mat-select>
      </mat-form-field>
      
      <mat-form-field class="mat-input" appearance="outline">
        <mat-label>Edición</mat-label>
        <input matInput [(ngModel)]="book.edicion" placeholder="Novena">
      </mat-form-field>
      
      <mat-form-field>
        <mat-label>Fecha de Publicación</mat-label>
        <input matInput [matDatepicker]="picker" (dateChange)="changeFecha($event)">
        <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
      </mat-form-field>

      <mat-form-field>
        <mat-label>Área</mat-label>
        <mat-select [(ngModel)]="book.area">
          @for(a of areas; track a) {
            <mat-option [value]="a.id">{{a.nombre}}</mat-option>
          }
        </mat-select>
      </mat-form-field>
      
      <mat-form-field>
        <mat-label>Categoría</mat-label>
        <mat-select [(ngModel)]="book.categoria">
          @for(c of categorias; track c) {
            <mat-option [value]="c.id">{{c.nombre}}</mat-option>
          }
        </mat-select>
      </mat-form-field>
      <button mat-raised-button type="submit" (click)="registrarLibro()">Agregar</button>
		
    </div>
	</div>

	<div class="section-right">
		<div class="title-container">
			<span class="title">Control</span>
		</div>
    <div class="actions">
      <mat-card class="action-card">
        <h4>Añadir Ejemplar</h4>
        <div class="action-buttons">
          
          <mat-form-field>
            <mat-label>ISBN</mat-label>
            <input matInput [(ngModel)]="ejemplar.isbn" placeholder="9788417255244">
          </mat-form-field>
          
          <mat-form-field>
            <mat-label>Tipo</mat-label>
            <mat-select [(ngModel)]="ejemplar.tipo">
              @for(t of tipo; track t) {
                <mat-option [value]="t.value">{{t.nombre}}</mat-option>
              }
            </mat-select>
          </mat-form-field>

          <mat-form-field>
            <mat-label>Estado</mat-label>
            <mat-select [(ngModel)]="ejemplar.estado">
              @for(e of estado; track e) {
                <mat-option [value]="e.value">{{e.nombre}}</mat-option>
              }
            </mat-select>
          </mat-form-field>

          <button mat-raised-button type="submit" (click)="registrarEjemplar()">Añadir</button>
        </div>
      </mat-card>
  
      <mat-card class="action-card">
        <h4>Añadir Categoría</h4>
        <div class="action-buttons">
          <mat-form-field>
            <mat-label>Nombre</mat-label>
            <input matInput [(ngModel)]="categoria.nombre"/>
          </mat-form-field>
          <button mat-raised-button type="submit" (click)="registrarCategoria()">Añadir</button>
        </div>
      </mat-card>
  
      <mat-card class="action-card">
        <h4>Añadir Área</h4>
        <div class="action-buttons">
          <mat-form-field>
            <mat-label>Nombre</mat-label>
            <input matInput [(ngModel)]="area.nombre"/>
          </mat-form-field>
          <button mat-raised-button type="submit" (click)="registrarArea()">Añadir</button>
        </div>
      </mat-card>

      <mat-card class="action-card">
        <h4>Añadir Editorial</h4>
        <div class="action-buttons">
          <mat-form-field>
            <mat-label>Nombre</mat-label>
            <input matInput [(ngModel)]="editorial.nombre"/>
          </mat-form-field>
          <button mat-raised-button type="submit" (click)="registrarEditorial()">Añadir</button>
        </div>
      </mat-card>
  
      <mat-card class="action-card">
        <h4>Añadir Miembro</h4>
        <div class="action-buttons">
          <mat-form-field>
            <mat-label>ID</mat-label>
            <input matInput [(ngModel)]="miembro.matricula"/>
          </mat-form-field>

          <mat-form-field>
            <mat-label>Nombre</mat-label>
            <input matInput [(ngModel)]="miembro.first_name"/>
          </mat-form-field>

          <mat-form-field>
            <mat-label>Apelidos</mat-label>
            <input matInput [(ngModel)]="miembro.last_name"/>
          </mat-form-field>
          <button mat-raised-button type="submit" (click)="registrarMiembro()">Añadir</button>
        </div>
      </mat-card>
    </div>
	</div>
</div>